venv) D:\Teaching_structure\final\Paper_generator1>python test_langchain.py
D:\Teaching_structure\final\Paper_generator1\mylang1.py:92: LangChainDeprecationWarning: The class `LLMChain` was deprecated in LangChain 0.1.17 and will be removed in 1.0. Use RunnableSequence, e.g., `prompt | llm` instead.
  self.chain = LLMChain(llm=self.llm, prompt=self.prompt)

Starting LangChain Integration Tests...
This test will demonstrate the following sequence:
1. PDF Processing: Load and chunk the PDF
2. Question Generation: Create questions from the content
3. Question Evaluation: Evaluate question quality

==================================================
STEP: 1. PDF Processing
==================================================
Processing PDF: sample.pdf

Steps in PDF processing:
1. Loading PDF using PyPDFLoader
2. Splitting text into chunks
3. Creating vector store with FAISS

Successfully processed PDF into 22 chunks
First chunk preview:
How wonderful is the living world! The wide range of living types is amazing. The
extraordinary habitats in which we find living organisms, be it cold mountains, deciduous
forests, oceans, fresh wat...

==================================================
STEP: 2. Question Generation
==================================================

Steps in question generation:
1. Searching for relevant context in vector store
2. Generating questions using LLM
3. Formatting questions into JSON structure

=== Generated Questions ===

Question 1:
Q: What is the branch of knowledge dealing with the identification, nomenclature, and classification of organisms referred to as?

Options:
- Ecology
- Genetics
- Taxonomy
- Physiology

Answer: Taxonomy
Explanation: In the provided context, it is mentioned that the branch of knowledge dealing with the identification, nomenclature, and classification of organisms is referred to as taxonomy.
--------------------------------------------------------------------------------

Question 2:
Q: What is the process that involves assigning a correct scientific/biological name comprising two words to each organism based on resemblances and distinct differences?

Options:
- Classification
- Characterisation
- Nomenclature
- Identification

Answer: Nomenclature
Explanation: In the provided context, it is mentioned that each organism is identified and assigned a correct scientific/biological name comprising two words as per the binomial system of nomenclature based on resemblances and distinct differences.  
--------------------------------------------------------------------------------

Questions have been saved to generated_questions.json

==================================================
STEP: 3. Question Evaluation
==================================================

Steps in question evaluation:
1. Loading QA evaluator
2. Evaluating questions against context
3. Generating evaluation metrics

Evaluating generated questions:

Evaluating Question 1:
Question: What is the branch of knowledge dealing with the identification, nomenclature, and classification of organisms referred to as?
Answer: Taxonomy

Evaluating question with parameters:
Question: What is the branch of knowledge dealing with the identification, nomenclature, and classification of organisms referred to as?
Answer: Taxonomy
Context length: 1894 characters

Evaluation results:
{'reasoning': 'CORRECT', 'value': 'CORRECT', 'score': 1}

Evaluation Result:
{'reasoning': 'CORRECT', 'value': 'CORRECT', 'score': 1}

Evaluating Question 2:
Question: What is the process that involves assigning a correct scientific/biological name comprising two words to each organism based on resemblances and distinct differences?
Answer: Nomenclature

Evaluating question with parameters:
Question: What is the process that involves assigning a correct scientific/biological name comprising two words to each organism based on resemblances and distinct differences?
Answer: Nomenclature
Context length: 1347 characters

Evaluation results:
{'reasoning': 'CORRECT', 'value': 'CORRECT', 'score': 1}

Evaluation Result:
{'reasoning': 'CORRECT', 'value': 'CORRECT', 'score': 1}

=== Test Summary ===
PDF Processing: ✓
Question Generation: ✓
Question Evaluation: ✓

(venv) D:\Teaching_structure\final\Paper_generator1>